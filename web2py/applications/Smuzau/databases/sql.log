timestamp: 2017-04-09T12:45:36.418000
CREATE TABLE auth_user(
    id INT AUTO_INCREMENT NOT NULL,
    first_name VARCHAR(128),
    last_name VARCHAR(128),
    email VARCHAR(512),
    password VARCHAR(512),
    registration_key VARCHAR(512),
    reset_password_key VARCHAR(512),
    registration_id VARCHAR(512),
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:36.478000
CREATE TABLE auth_group(
    id INT AUTO_INCREMENT NOT NULL,
    role VARCHAR(512),
    description LONGTEXT,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:36.533000
CREATE TABLE auth_membership(
    id INT AUTO_INCREMENT NOT NULL,
    user_id INT  , INDEX user_id__idx (user_id), FOREIGN KEY (user_id) REFERENCES auth_user (id) ON DELETE CASCADE,
    group_id INT  , INDEX group_id__idx (group_id), FOREIGN KEY (group_id) REFERENCES auth_group (id) ON DELETE CASCADE,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:36.593000
CREATE TABLE auth_permission(
    id INT AUTO_INCREMENT NOT NULL,
    group_id INT  , INDEX group_id__idx (group_id), FOREIGN KEY (group_id) REFERENCES auth_group (id) ON DELETE CASCADE,
    name VARCHAR(512),
    table_name VARCHAR(512),
    record_id INT,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:36.655000
CREATE TABLE auth_event(
    id INT AUTO_INCREMENT NOT NULL,
    time_stamp DATETIME,
    client_ip VARCHAR(512),
    user_id INT  , INDEX user_id__idx (user_id), FOREIGN KEY (user_id) REFERENCES auth_user (id) ON DELETE CASCADE,
    origin VARCHAR(512),
    description LONGTEXT,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:36.698000
CREATE TABLE auth_cas(
    id INT AUTO_INCREMENT NOT NULL,
    user_id INT  , INDEX user_id__idx (user_id), FOREIGN KEY (user_id) REFERENCES auth_user (id) ON DELETE CASCADE,
    created_on DATETIME,
    service VARCHAR(512),
    ticket VARCHAR(512),
    renew CHAR(1),
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:36.768000
CREATE TABLE t_taste(
    id INT AUTO_INCREMENT NOT NULL,
    f_name VARCHAR(512),
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:36.821000
CREATE TABLE tag_smuz(
    id INT AUTO_INCREMENT NOT NULL,
    name VARCHAR(512),
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:36.860000
CREATE TABLE t_review(
    id INT AUTO_INCREMENT NOT NULL,
    f_fulltext VARCHAR(512),
    is_active CHAR(1),
    created_on DATETIME,
    created_by INT  , INDEX created_by__idx (created_by), FOREIGN KEY (created_by) REFERENCES auth_user (id) ON DELETE CASCADE,
    modified_on DATETIME,
    modified_by INT  , INDEX modified_by__idx (modified_by), FOREIGN KEY (modified_by) REFERENCES auth_user (id) ON DELETE CASCADE,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:36.911000
CREATE TABLE t_review_archive(
    id INT AUTO_INCREMENT NOT NULL,
    f_fulltext VARCHAR(512),
    is_active CHAR(1),
    created_on DATETIME,
    created_by INT  , INDEX created_by__idx (created_by), FOREIGN KEY (created_by) REFERENCES auth_user (id) ON DELETE CASCADE,
    modified_on DATETIME,
    modified_by INT  , INDEX modified_by__idx (modified_by), FOREIGN KEY (modified_by) REFERENCES auth_user (id) ON DELETE CASCADE,
    current_record INT  , INDEX current_record__idx (current_record), FOREIGN KEY (current_record) REFERENCES t_review (id) ON DELETE CASCADE,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:36.988000
CREATE TABLE t_category(
    id INT AUTO_INCREMENT NOT NULL,
    f_name VARCHAR(512),
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:37.036000
CREATE TABLE t_smoothie(
    id INT AUTO_INCREMENT NOT NULL,
    f_name VARCHAR(512),
    f_name_lat VARCHAR(512),
    f_taste INT  , INDEX f_taste__idx (f_taste), FOREIGN KEY (f_taste) REFERENCES t_taste (id) ON DELETE CASCADE,
    f_image VARCHAR(512),
    f_img LONGBLOB,
    f_rating INT,
    f_rated_count INT,
    ingredients LONGTEXT,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:37.085000
CREATE TABLE t_ingredient(
    id INT AUTO_INCREMENT NOT NULL,
    f_name VARCHAR(512),
    f_taste INT  , INDEX f_taste__idx (f_taste), FOREIGN KEY (f_taste) REFERENCES t_taste (id) ON DELETE CASCADE,
    f_image VARCHAR(512),
    f_img LONGBLOB,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:37.130000
CREATE TABLE tag_ingr(
    id INT AUTO_INCREMENT NOT NULL,
    name VARCHAR(512),
    ingr_tbl INT  , INDEX ingr_tbl__idx (ingr_tbl), FOREIGN KEY (ingr_tbl) REFERENCES t_ingredient (id) ON DELETE CASCADE,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:37.175000
CREATE TABLE t_rating(
    id INT AUTO_INCREMENT NOT NULL,
    f_rating INT,
    f_rated_5_count INT,
    f_rated_4_count INT,
    f_rated_3_count INT,
    f_rated_2_count INT,
    f_rated_1_count INT,
    f_reviews_count INT,
    f_smoothie INT  , INDEX f_smoothie__idx (f_smoothie), FOREIGN KEY (f_smoothie) REFERENCES t_smoothie (id) ON DELETE CASCADE,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:37.232000
CREATE TABLE t_smoothie_review(
    id INT AUTO_INCREMENT NOT NULL,
    f_smoothie INT  , INDEX f_smoothie__idx (f_smoothie), FOREIGN KEY (f_smoothie) REFERENCES t_smoothie (id) ON DELETE CASCADE,
    f_review INT  , INDEX f_review__idx (f_review), FOREIGN KEY (f_review) REFERENCES t_review (id) ON DELETE CASCADE,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:37.289000
CREATE TABLE t_smoothie_category(
    id INT AUTO_INCREMENT NOT NULL,
    f_smoothie INT  , INDEX f_smoothie__idx (f_smoothie), FOREIGN KEY (f_smoothie) REFERENCES t_smoothie (id) ON DELETE CASCADE,
    f_cat INT  , INDEX f_cat__idx (f_cat), FOREIGN KEY (f_cat) REFERENCES t_category (id) ON DELETE CASCADE,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:37.359000
CREATE TABLE t_ingr_category(
    id INT AUTO_INCREMENT NOT NULL,
    f_ingr INT  , INDEX f_ingr__idx (f_ingr), FOREIGN KEY (f_ingr) REFERENCES t_ingredient (id) ON DELETE CASCADE,
    f_cat INT  , INDEX f_cat__idx (f_cat), FOREIGN KEY (f_cat) REFERENCES t_category (id) ON DELETE CASCADE,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:37.418000
CREATE TABLE t_recipe(
    id INT AUTO_INCREMENT NOT NULL,
    f_name VARCHAR(512),
    f_date DATETIME,
    f_fulltext VARCHAR(512),
    f_smoothie INT  , INDEX f_smoothie__idx (f_smoothie), FOREIGN KEY (f_smoothie) REFERENCES t_smoothie (id) ON DELETE CASCADE,
    is_active CHAR(1),
    created_on DATETIME,
    created_by INT  , INDEX created_by__idx (created_by), FOREIGN KEY (created_by) REFERENCES auth_user (id) ON DELETE CASCADE,
    modified_on DATETIME,
    modified_by INT  , INDEX modified_by__idx (modified_by), FOREIGN KEY (modified_by) REFERENCES auth_user (id) ON DELETE CASCADE,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:37.485000
CREATE TABLE t_recipe_archive(
    id INT AUTO_INCREMENT NOT NULL,
    f_name VARCHAR(512),
    f_date DATETIME,
    f_fulltext VARCHAR(512),
    f_smoothie INT  , INDEX f_smoothie__idx (f_smoothie), FOREIGN KEY (f_smoothie) REFERENCES t_smoothie (id) ON DELETE CASCADE,
    is_active CHAR(1),
    created_on DATETIME,
    created_by INT  , INDEX created_by__idx (created_by), FOREIGN KEY (created_by) REFERENCES auth_user (id) ON DELETE CASCADE,
    modified_on DATETIME,
    modified_by INT  , INDEX modified_by__idx (modified_by), FOREIGN KEY (modified_by) REFERENCES auth_user (id) ON DELETE CASCADE,
    current_record INT  , INDEX current_record__idx (current_record), FOREIGN KEY (current_record) REFERENCES t_recipe (id) ON DELETE CASCADE,
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:45:37.547000
CREATE TABLE t_recipe_ingr(
    id INT AUTO_INCREMENT NOT NULL,
    f_recipe INT  , INDEX f_recipe__idx (f_recipe), FOREIGN KEY (f_recipe) REFERENCES t_recipe (id) ON DELETE CASCADE,
    f_ingr INT  , INDEX f_ingr__idx (f_ingr), FOREIGN KEY (f_ingr) REFERENCES t_ingredient (id) ON DELETE CASCADE,
    f_quantity VARCHAR(512),
    PRIMARY KEY (id)
) ENGINE=InnoDB CHARACTER SET utf8;
success!
timestamp: 2017-04-09T12:52:19.143000
ALTER TABLE t_smoothie ADD tags LONGTEXT;
timestamp: 2017-04-09T12:52:38.636000
ALTER TABLE t_smoothie ADD smuz_tags LONGTEXT;
success!
success!
timestamp: 2017-04-09T13:08:48.912000
ALTER TABLE tag_ingr DROP COLUMN ingr_tbl;
timestamp: 2017-04-09T13:10:22.949000
ALTER TABLE tag_ingr DROP COLUMN ingr_tbl;
timestamp: 2017-04-09T13:12:38.837000
ALTER TABLE tag_ingr DROP COLUMN ingr_tbl;
timestamp: 2017-04-09T13:13:13.608000
ALTER TABLE tag_ingr DROP COLUMN ingr_tbl;
timestamp: 2017-04-09T13:13:38.389000
ALTER TABLE tag_ingr DROP COLUMN ingr_tbl;
timestamp: 2017-04-09T13:13:49.841000
ALTER TABLE tag_ingr DROP COLUMN ingr_tbl;
faked!
timestamp: 2017-04-09T13:14:05.457000
ALTER TABLE tag_ingr ADD name__tmp INT;
faked!
UPDATE tag_ingr SET name__tmp=name;
faked!
ALTER TABLE tag_ingr DROP COLUMN name;
faked!
ALTER TABLE tag_ingr ADD name INT;
faked!
UPDATE tag_ingr SET name=name__tmp;
faked!
ALTER TABLE tag_ingr DROP COLUMN name__tmp;
faked!
timestamp: 2017-04-09T13:15:26.994000
ALTER TABLE tag_ingr ADD name__tmp VARCHAR(512);
success!
UPDATE tag_ingr SET name__tmp=name;
success!
ALTER TABLE tag_ingr DROP COLUMN name;
success!
ALTER TABLE tag_ingr ADD name VARCHAR(512);
success!
UPDATE tag_ingr SET name=name__tmp;
success!
ALTER TABLE tag_ingr DROP COLUMN name__tmp;
success!
timestamp: 2017-04-09T13:33:49.739000
ALTER TABLE t_ingredient ADD tag_id INT  , ADD INDEX tag_id__idx (tag_id), ADD FOREIGN KEY (tag_id) REFERENCES tag_ingr (id) ON DELETE CASCADE;
success!
success!
